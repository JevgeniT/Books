@model IEnumerable<WebApplication.Models.Publisher>
@{
    ViewData["Title"] = "Index";
}
<h2>Publishers</h2>
<div class="text-center">
    <table class="table">
        <thead>
        <tr>
            <th scope="col"> @Html.DisplayNameFor(model => model.PublisherName)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.Books)</th>
            <th scope="col">
                <span class="glyphicon glyphicon-plus text-success"  data-toggle="modal" data-target="#PublisherModal"></span>
            </th>
        </tr>
        </thead>
        <tbody>
        @foreach (var publisher in Model)
        {
            <tr id="@publisher.PublisherId">
                <td>@publisher.PublisherName</td>
                <td>
                    Books:@publisher.Books.Count
                    <ul>
                        @foreach (var book in publisher.Books)
                        {
                            <li>@book.BookTitle</li>
                        }
                    </ul>
                </td>
                <td>
                    <a asp-action="Delete" asp-route-id="@publisher.PublisherId" class="text-danger ml-1">
                        <span class="glyphicon glyphicon-trash" id="remove"></span>	
                    </a><span class="glyphicon glyphicon-pencil text-warning" id="edit"> </span>
                </td>
            </tr>
        }
        </tbody>
    </table>   
    <div class="modal fade" id="PublisherModal" tabindex="-1" role="dialog"  aria-hidden="true">
        @{
            Html.RenderPartial("PublisherModal",new Publisher());
        }
    </div>
</div>